<!DOCTYPE html>
<html lang="en">

<head>
    <title id="pageTitle">Default Title | Sony Liv</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="description" content="ENJOY FREE LIVE TV">
    <meta name="keywords" content="LIVETV, SPORTS, MOVIES, MUSIC">
    <meta name="author" content="Vaathala">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="stylesheet" href="https://cdn.plyr.io/3.6.2/plyr.css" />
    <script src="https://cdn.plyr.io/3.6.3/plyr.js"></script>
    <script src="main/assets/js/jwplayer.js"></script>
    <link rel="shortcut icon" type="image/x-icon" href="https://i.ibb.co/BcjC6R8/jiotv.png">
    <script type='text/javascript' src='https://content.jwplatform.com/libraries/IDzF9Zmk.js'></script>

    <style>
        /* Add your CSS styles here */
        .jw-svg-icon-pause {
            background-image: url("assets/img/jwplay/pause.svg");
        }

        /* Your other styles... */
    </style>

</head>

<body>
    <div class="logo"></div>
    <video id="myElement"></video>

    <script type="text/javascript">
        jwplayer.key = 'Khpp2dHxlBJHC8MCmLnBuV2jK/DwDnJMniwF6EO9HC/riJ712ZmbHg==';

        // Function to get URL parameter by name
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            var results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }

        var id = getUrlParameter('id');

        // Load the JSON data and find the video by ID
        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
                var data = JSON.parse(xhr.responseText);
                var videoData = data.find(video => video.id === id);

                // Setup JWPlayer with the video data
                jwplayer("myElement").setup({
                    title: videoData.title,
                    description: videoData.description,
                    image: videoData.image,
                    aspectratio: '16:9',
                    width: '100%',
                    mute: false,
                    autostart: true,
                    file: videoData.video,
                    type: "mp4",
                    captions: {
                        color: '#ffb800',
                        fontSize: 30,
                        backgroundOpacity: 0
                    },
                    sharing: {
                        sites: ['facebook', 'twitter']
                    }
                });
            }
        };
        xhr.open('GET', 'movies.json', true); // Assuming your JSON file is named 'movies.json'
        xhr.send();
    </script>
</body>

</html>
