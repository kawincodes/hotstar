<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Movie Player</title>
    <link rel="stylesheet" href="https://cdn.plyr.io/3.6.2/plyr.css" />
    <style>
        /* Add your custom styles here */
        .player-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .download-btn {
            display: block;
            text-align: center;
            margin-top: 10px;
        }
    </style>
</head>

<body>
    <div class="player-container">
        <video id="player" controls crossorigin>
            <!-- Video source -->
            <source src="" type="video/mp4">
            <!-- Fallback for browsers that don't support the <video> element -->
            Your browser does not support the video tag.
        </video>
        <a id="downloadBtn" class="download-btn" href="" download>Download Video</a>
    </div>

    <script src="https://cdn.plyr.io/3.6.3/plyr.js"></script>
    <script>
       document.addEventListener("DOMContentLoaded", function () {
    // Load JSON data
    fetch('movies.json')
        .then(response => response.json())
        .then(data => {
            // Find the movie object with id 1 (assuming your JSON may have multiple movies)
            const movie = data.find(movie => movie.id === 1);

            if (movie) {
                // Initialize Plyr player
                const player = new Plyr('#player', {
                    controls: ['play', 'progress', 'mute', 'volume', 'fullscreen'],
                });

                // Source for the video
                const source = {
                    type: 'video',
                    sources: [{
                        src: movie.video,
                        type: 'video/mp4',
                    }],
                };

                player.source = source;

                // Update download button href
                const downloadBtn = document.getElementById('downloadBtn');
                downloadBtn.href = movie.download;

            } else {
                console.error('Movie with id 1 not found in JSON data.');
            }
        })
        .catch(error => {
            console.error('Error fetching data:', error);
        });
});

    </script>
</body>

</html>
