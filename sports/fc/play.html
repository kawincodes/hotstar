<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Matches</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        .match-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin: 10px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .match-banner {
            width: 100%;
            border-radius: 8px;
        }
        .teams {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .team {
            text-align: center;
        }
        .team img {
            width: 50px;
            height: 30px;
        }
        .stream-link {
            margin-top: 10px;
            cursor: pointer;
            color: blue;
            text-decoration: underline;
        }
        #jwplayer-container {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        #jwplayer {
            width: 80%;
            height: 80%;
        }
        #close-player {
            position: absolute;
            top: 20px;
            right: 30px;
            color: white;
            cursor: pointer;
        }
    </style>

    <!-- JW Player scripts -->
    <script src="assets/KB5zFt7A.js"></script>
    <script src="assets/jwpsrv.js" async></script>
    <script src="assets/vast.js" async></script>

    <script type="text/javascript">
        jwplayer.key = 'Khpp2dHxlBJHC8MCmLnBuV2jK/DwDnJMniwF6EO9HC/riJ712ZmbHg==';
    </script>
</head>
<body>

<h1>Live Matches</h1>
<div id="matches-container"></div>

<div id="jwplayer-container">
    <div id="close-player">âœ–</div>
    <div id="jwplayer"></div>
</div>

<script>
    const jsonUrl = "https://raw.githubusercontent.com/byte-capsule/FanCode-Hls-Fetcher/main/Fancode_hls_m3u8.Json";

    async function fetchMatches() {
        try {
            const response = await fetch(jsonUrl);
            if (!response.ok) throw new Error('Network response was not ok');
            const data = await response.json();
            displayMatches(data.matches);
        } catch (error) {
            console.error('There has been a problem with your fetch operation:', error);
            document.getElementById('matches-container').innerHTML = '<p>Error loading matches.</p>';
        }
    }

    function displayMatches(matches) {
        const container = document.getElementById('matches-container');
        container.innerHTML = ''; // Clear previous matches
        matches.forEach(match => {
            const matchCard = document.createElement('div');
            matchCard.classList.add('match-card');

            matchCard.innerHTML = `
                <img src="${match.banner}" alt="${match.match_name}" class="match-banner">
                <h2>${match.event_name}</h2>
                <div class="teams">
                    <div class="team">
                        <img src="${match.team_1_flag}" alt="${match.team_1}">
                        <p>${match.team_1}</p>
                    </div>
                    <div class="team">
                        <img src="${match.team_2_flag}" alt="${match.team_2}">
                        <p>${match.team_2}</p>
                    </div>
                </div>
                <div class="stream-link" data-stream="${match.stream_link}">Watch Live</div>
            `;

            container.appendChild(matchCard);
        });
    }

    document.getElementById('matches-container').addEventListener('click', (event) => {
        if (event.target.classList.contains('stream-link')) {
            const streamLink = event.target.getAttribute('data-stream');
            openJWPlayer(streamLink);
        }
    });

    function openJWPlayer(streamLink) {
        document.getElementById('jwplayer-container').style.display = 'flex';
        jwplayer('jwplayer').setup({
            file: streamLink,
            width: '100%',
            height: '100%',
            autostart: true
        });
    }

    document.getElementById('close-player').addEventListener('click', () => {
        document.getElementById('jwplayer-container').style.display = 'none';
        jwplayer('jwplayer').remove();
    });

    fetchMatches();
</script>

</body>
</html>


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Stream Player</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
            text-align: center;
        }
        #jwplayer {
            width: 80%;
            height: 400px;
            margin: 0 auto;
        }
    </style>

    <!-- JW Player scripts -->
    <script src="https://cdn.jwplayer.com/libraries/your-library-id.js"></script> <!-- Replace with your JW Player library ID -->
    <script type="text/javascript">
        jwplayer.key = 'Khpp2dHxlBJHC8MCmLnBuV2jK/DwDnJMniwF6EO9HC/riJ712ZmbHg=='; // Your JW Player key
    </script>
</head>
<body>

<h1>Live Stream</h1>
<div id="jwplayer"></div>

<script>
    // Set up the JW Player with the provided HLS stream URL
    jwplayer('jwplayer').setup({
        file: 'https://dai.google.com/linear/hls/event/YHe5VBsATn2iuqaEIR0MYQ/master.m3u8',
        width: '100%',
        height: '100%',
        autostart: true
    });
</script>

</body>
</html>

