<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Prime Video</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            margin: 0px;
        }

        .jwplayer {
            position: absolute !important;
        }

        .jwplayer.jw-flag-aspect-mode {
            min-height: 100%;
            max-height: 100%;
        }
    </style>
</head>
<body>
    <div id="jwplayerDiv"></div>

    <script src="//content.jwplatform.com/libraries/SAHhwvZq.js"></script>

    <script type="text/javascript">
        // Function to get URL parameter by name (e.g., 'id')
        function getUrlParameter(name) {
            var urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // Get the 'id' parameter from the URL
        var id = getUrlParameter('id');

        // Check if 'id' is provided in the URL
        if (id) {
            // Create a new XMLHttpRequest to fetch the JSON data
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    // Parse the JSON response
                    var data = JSON.parse(xhr.responseText);
                    
                    // Find the video data based on the 'id' from the URL
                    var videoData = data.find(video => video.id === id);

                    // If a matching video is found
                    if (videoData) {
                        // Setup JWPlayer with the video data
                        jwplayer("jwplayerDiv").setup({
                            file: videoData.link,
                            title: videoData.title,
                            description: videoData.description,
                            image: videoData.logo, // Optional, for logo image
                            position: 'bottom',
                            autostart: true,
                            stretching: "",
                            width: "100%",
                            type: "dash",
                            drm: {
                                clearkey: {
                                    keyId: videoData.kid,
                                    key: videoData.k
                                }
                            }
                        });
                    } else {
                        console.error("Video with the given ID not found");
                    }
                }
            };

            // Send the request to fetch the m1.json file
            xhr.open("GET", "sports.json", true); // Replace with your actual URL
            xhr.send();
        } else {
            console.error("ID parameter not found in the URL");
        }
    </script>

    <script type="text/javascript">
        atOptions = {
            'key' : '701fef7de243c4e8e91e6e6b3a2fea1e',
            'format' : 'iframe',
            'height' : 90,
            'width' : 728,
            'params' : {}
        };
    </script>
    <script type="text/javascript" src="//eltontry.com/701fef7de243c4e8e91e6e6b3a2fea1e/invoke.js"></script>
</body>
</html>
