<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live</title>
  <link rel="stylesheet" href="assets/style.css">


    <!-- JW Player Styles -->
    <style>
        /* Make sure the body takes full height */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #121212;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-x: hidden;
            height: 100vh; /* Full viewport height */
        }

        .container {
            width: 100%;
            height: 100%; /* Full height */
            max-width: 100%;
            position: relative;
        }

        #player {
            width: 100%;
            height: 100%; /* Full height */
            position: relative;
        }

        /* JW Player Styles */
        .video-wrapper {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .video-wrapper iframe {
            width: 100%;
            height: 100%; /* Full height */
            border-radius: 0;
            box-shadow: none;
        }

    </style>
</head>
<body>
    <div class="container">
        <div id="player"></div>
        <div class="video-wrapper" id="videoWrapper">
            <iframe id="videoIframe" src="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    </div>

    <!-- JW Player scripts -->
    <script src="assets/KB5zFt7A.js" ></script>
    <script src="assets/jwpsrv.js" ></script>
    <script src="assets/vast.js" ></script>

   <script type="text/javascript">
    // Function to get URL parameter by name
    function getUrlParameter(name) {
        name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
        var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
        var results = regex.exec(location.search);
        return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
    }

    var id = getUrlParameter('id'); // Get the "id" from the URL

    // Load the sports.json file and get the video data by ID
    var xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function() {
        if (xhr.readyState === 4 && xhr.status === 200) {
            var data = JSON.parse(xhr.responseText);  // Parse the JSON data
            var videoData = data.find(video => video.id === id);  // Find the video by ID

            // Check if the videoData exists
            if (videoData) {
                jwplayer("myElement").setup({
                    title: videoData.name,  // Use the video's name for the title
                    description: "VaathalaTV",  // Use a static description
                    image: videoData.logo,  // Add the logo or thumbnail URL here
                    aspectratio: '16:9',  // Set aspect ratio for the video
                    width: '100%',  // Set the player width to 100%
                    mute: false,  // Start with sound enabled
                    autostart: true,  // Start the video automatically
                    file: videoData.link,  // The URL of the video file (DASH stream)
                    key: "cLGMn8T20tGvW+0eXPhq4NNmLB57TrscPjd1IyJF84o=", // JW Player key (Replace it with your own)
                    skin: { name: "netflix" },  // Use the "netflix" skin for the player
                    logo: {
                        file: "https://i.postimg.cc/2yNvT7Qk/slazzer-edit-image-1.png",  // Set your logo URL
                        link: "https://telegram.me/vaathala1"  // Link for the logo
                    },
                    type: "mpd",  // Set the type to "mpd" for DASH stream
                    drm: {
                        clearkey: {
                            keyId: videoData.kid,  // Use the keyId from the JSON
                            key: videoData.k  // Use the key from the JSON
                        }
                    },
                    captions: {
                        color: '#ffb800',  // Set the caption text color
                        fontSize: 30,  // Set the font size for captions
                        backgroundOpacity: 0  // Set background opacity to 0 (transparent)
                    },
                    sharing: {
                        sites: ['facebook', 'twitter']  // Enable sharing to Facebook and Twitter
                    }
                });
            } else {
                console.error("Video data with id " + id + " not found.");
            }
        }
    };
    xhr.open('GET', 'https://vaathala00.github.io/hotstar/sports/json/sports.json', true);  // Load the sports.json file
    xhr.send();
</script>

<script>
    // Toggle sidebar functionality
    document.getElementById('toggle-sidebar').addEventListener('click', function() {
        document.getElementById('sidebar').classList.toggle('open');
    });

    document.getElementById('close-sidebar').addEventListener('click', function() {
        document.getElementById('sidebar').classList.remove('open');
    });
</script>


</body>
</html>
