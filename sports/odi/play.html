cursor: pointer;
            z-index: 1001;
            user-select: none;
        }
        .chat-toggle:after {
            content: "Chat";
            font-size: 14px;
        }
        .chat-toggle.open:after {
            content: "Close";
        }
        .telegram-link {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 1001;
        }
        .telegram-link img {
            width: 50px;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="player"></div>

        <div class="info-box">
            <h2>Change Stream/Language:</h2>
            <select id="languageSelector" onchange="changeStream(this.value)">
                <!-- Options will be populated dynamically -->
            </select>
        </div>

        <div class="video-wrapper" id="videoWrapper">
            <iframe id="videoIframe" src="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>

        <div class="chat-container" id="chatBox">
            <button class="chat-close" id="chatClose"></button>
            <iframe src="https://www.youtube.com/live_chat?v=9M02G5c6x6w&embed_domain=vaathala00.github.io" allow="microphone; camera"></iframe>
        </div>
        <button class="chat-toggle" id="chatToggle"></button>
    </div>

    <a class="telegram-link" href="https://t.me/vaathala1" target="_blank" rel="noopener noreferrer">
        <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="Join Telegram">
    </a>

    <!-- JW Player scripts -->
    <script src="assets/KB5zFt7A.js"></script>
    <script src="assets/jwpsrv.js"></script>
    <script src="assets/vast.js"></script>

    <script>
        let playerInstance;
        let videoData;

        // Fetch video data from JSON
        fetch('sports.json')
            .then(response => response.json())
            .then(data => {
                videoData = data;
                populateLanguageOptions(videoData);
                changeStream(videoData[0].id); // Set default stream to first language
            })
            .catch(error => console.error('Error fetching JSON:', error));

        function populateLanguageOptions(data) {
            const languageSelector = document.getElementById('languageSelector');
            data.forEach(video => {
                const option = document.createElement('option');
                option.value = video.id; // Use video ID as the value
                option.textContent = video.name; // Use video name as the display text
                languageSelector.appendChild(option);
            });
        }

        function changeStream(languageId) {
            const selectedVideo = videoData.find(video => video.id === languageId);
            if (selectedVideo) {
                if (!playerInstance) {
                    // Initialize JW Player
                    playerInstance = jwplayer("player").setup({
                        file: selectedVideo.link,
                        width: '100%',
                        height: '450px',
                        autostart: true,
                        aspectratio: '16:9',
                        mute: false,
                        key: "cLGMn8T20tGvW+0eXPhq4NNmLB57TrscPjd1IyJF84o=", // Add your key here
                        skin: { name: "netflix" },
                        logo: {
                            file: "https://i.postimg.cc/2yNvT7Qk/slazzer-edit-image-1.png",
                            link: "https://telegram.me/vaathala1"
                        },
captions: {
                            color: "#FFF",
                            fontSize: 14,
                            backgroundOpacity: 0,
                            edgeStyle: "raised"
                        },
                        sharing: {
                            sites: ['facebook', 'twitter']
                        }
                    });

                    // Add custom language button
                    playerInstance.on('ready', function() {
                        playerInstance.addButton(
                            'https://i.postimg.cc/1R7w0Fvp/language-svgrepo-com.png', // Replace with your language icon path
                            'Change Language',
                            function() {
                                changeStream(languageSelector.value);
                            },
                            'languageButton'
                        );
                    });
                } else {
                    playerInstance.load({ file: selectedVideo.link });
                    playerInstance.play(true); // Automatically play the selected stream
                }
            }
        }

        // Chat toggle functionality
        document.getElementById('chatToggle').addEventListener('click', function() {
            const chatBox = document.getElementById('chatBox');
            const chatToggle = document.getElementById('chatToggle');
            if (chatBox.style.display === 'none' || chatBox.style.display === '') {
                chatBox.style.display = 'block';
                chatToggle.classList.add('open');
            } else {
                chatBox.style.display = 'none';
                chatToggle.classList.remove('open');
            }
        });

        document.getElementById('chatClose').addEventListener('click', function() {
            const chatBox = document.getElementById('chatBox');
            chatBox.style.display = 'none';
            document.getElementById('chatToggle').classList.remove('open');
        });
    </script>
</body>
</html>